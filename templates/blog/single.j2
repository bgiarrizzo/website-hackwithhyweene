{% extends "main.j2" %}

{% block title %}
    <title>{{ post.title }} - Blog - {{ site.name }}</title>
{% endblock title %}

{% block metaTitle %}
    <meta name="title" content="{{ post.title }} - Blog - {{ site.name }}">
{% endblock metaTitle %}

{% block linkCanonical %}
    <link rel="canonical" href="{{ site.url }}/blog/{{ post.path }}/">
{% endblock linkCanonical %}

{% block meta_keywords %}
    <meta name="keywords" content="{{ site.keywords | join(', ') | lower }}, {{ post.tags | join(', ') | lower }}">
{% endblock meta_keywords %}

{% block specific_css %}
    main h1 { margin-top: 1.5em; font-size: 2.25em; }
    .blog-post-date { margin-top: 1em; border-bottom: 0px; font-size: 2em; font-weight: 600; }
    .blog-post-reading-time { margin-top: 0px; margin-bottom: 0px; }
    .blog-post-category { margin-top: 0px; margin-bottom: 0px; }
    .blog-post-tags { margin-top: 0px; }
{% endblock specific_css %}

{% block prismCss %}
    {% if post.prism_needed %}
        <link href="/static/css/prism.css" rel="stylesheet">
    {% endif %}
{% endblock prismCss %}

{% block content %}
    <h1>{{ post.title }}</h1>

    <h2 class="blog-post-date">{{ post.publish_date.long }}</h2>

    <p class="blog-post-reading-time"><b>Temps de lecture estimé</b> : {{ post.reading_time }}</p>
    <p class="blog-post-category"><b>Catégorie</b> : <a href="/blog/category/{{ post.category.slug }}/">{{ post.category.name }}</a></p>
    <p class="blog-post-tags">
        <b>Tags</b> :
        {% for tag in post.tags %}
            {{ tag | capitalize }}{% if not loop.last %}, {% endif %}
        {% endfor %}
    </p>

    {% if post.cover %}
        <img class="cover" src="/media/images/blog/covers/{{ post.cover }}" alt="{{ post.title }}">
    {% else %}
        <hr />
    {% endif %}

    {{ post.body }}

    {% if post.prism_needed %}
        <script src="/static/js/prism.js"></script>
    {% endif %}
{% endblock content %}
